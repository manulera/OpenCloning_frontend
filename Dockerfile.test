FROM node:22

# Install git
RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*

# Enable corepack for yarn
RUN corepack enable

# Set working directory
WORKDIR /workspace

# Clone the repository and checkout the branch
RUN git clone https://github.com/manulera/OpenCloning_frontend.git . && \
    git checkout edit-manual-action

# Install dependencies
RUN yarn install --frozen-lockfile

# Default command opens a shell
CMD ["/bin/sh"]
